:host {
  display: block;
}

.pedidos {
  width: min(1100px, 92vw);
  margin: clamp(3rem, 6vw, 4rem) auto clamp(4rem, 6vw, 5rem);
  display: flex;
  flex-direction: column;
  gap: clamp(2rem, 4vw, 3rem);

  .pedidos__hero {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 2rem;

    .eyebrow {
      letter-spacing: 0.18em;
      text-transform: uppercase;
      font-size: 0.75rem;
      color: var(--app-text-soft);
      margin-bottom: 0.6rem;
    }

    h1 {
      margin: 0 0 1rem;
      font-size: clamp(2rem, 3.5vw, 2.7rem);
      line-height: 1.1;
    }

    p {
      margin: 0;
      color: var(--app-text-muted);
      max-width: 540px;
    }

    .hero__stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;

      mat-card {
        border-radius: 18px;
        padding: 1.2rem 1.4rem;
        display: grid;
        gap: 0.4rem;

        .label {
          text-transform: uppercase;
          letter-spacing: 0.16em;
          font-size: 0.7rem;
          color: var(--app-text-soft);
        }

        strong {
          font-size: 1.4rem;
        }
      }
    }

    @media (max-width: 900px) {
      flex-direction: column;
      align-items: stretch;
    }
  }

  .pedidos__lista {
    display: grid;
    gap: 1.5rem;

    .pedido {
      border-radius: 22px;
      padding: 1.6rem 1.8rem;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;

        h2 {
          margin: 0;
          font-size: 1.4rem;
        }

        .fecha {
          color: var(--app-text-soft);
        }

        .estado {
          padding: 0.4rem 1rem;
          border-radius: 999px;
          background: rgba(99, 102, 241, 0.12);
          color: var(--app-accent);
          font-weight: 600;

          &.entregado {
            background: rgba(16, 185, 129, 0.14);
            color: #047857;
          }
        }
      }

      .pedido__body {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.5rem;
      }

      .pedido__items {
        display: grid;
        gap: 1rem;

        .item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 1rem;
          padding-bottom: 0.75rem;
          border-bottom: 1px dashed rgba(15, 23, 42, 0.1);

          strong {
            display: block;
          }

          span {
            color: var(--app-text-soft);
            font-size: 0.9rem;
          }

          .subtotal {
            font-weight: 600;
            color: var(--app-text-primary);
          }
        }
      }

      .pedido__meta {
        display: grid;
        gap: 0.75rem;
        align-content: start;

        .tracking {
          font-size: 0.9rem;
          color: var(--app-text-soft);
        }

        .total {
          font-size: 1.1rem;
          font-weight: 700;
        }

        .acciones {
          display: flex;
          gap: 0.75rem;
          flex-wrap: wrap;

          button[mat-stroked-button] {
            border-radius: 999px;
          }

          button[mat-flat-button] {
            border-radius: 999px;
          }
        }
      }
    }
  }

  .pedidos__empty {
    padding: 4rem 1rem;
    text-align: center;
    color: var(--app-text-soft);
  }

  .direcciones {
    display: grid;
    grid-template-columns: minmax(320px, 1.1fr) minmax(320px, 1fr);
    gap: 1.5rem;

    .direcciones__lista {
      display: grid;
      gap: 1.2rem;
    }

    .direccion {
      border-radius: 20px;
      padding: 1.4rem 1.6rem;
      display: grid;
      gap: 0.75rem;

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;

        .alias {
          text-transform: uppercase;
          letter-spacing: 0.14em;
          font-size: 0.7rem;
          color: var(--app-text-soft);
        }

        .chip {
          padding: 0.35rem 0.8rem;
          border-radius: 999px;
          background: rgba(99, 102, 241, 0.14);
          color: var(--app-accent);
          font-weight: 600;

          &.principal {
            background: rgba(16, 185, 129, 0.14);
            color: #047857;
          }
        }
      }

      p {
        margin: 0;
        color: var(--app-text-muted);
      }

      .acciones {
        display: flex;
        align-items: center;
        gap: 0.75rem;

        button[mat-stroked-button] {
          border-radius: 999px;
        }
      }
    }

    .direcciones__form {
      border-radius: 22px;
      padding: 1.8rem;
      display: grid;
      gap: 1rem;

      h3 {
        margin: 0;
        font-size: 1.4rem;
      }

      form {
        display: grid;
        gap: 1rem;
      }

      button[mat-flat-button] {
        justify-self: start;
        border-radius: 999px;
        padding-inline: 1.6rem;
      }

      .feedback {
        margin-top: 0.5rem;
        padding: 0.9rem 1rem;
        border-radius: 14px;
        display: inline-flex;
        align-items: center;
        gap: 0.6rem;
        color: #047857;
        background: rgba(16, 185, 129, 0.12);

        mat-icon {
          color: #047857;
        }
      }
    }

    @media (max-width: 960px) {
      grid-template-columns: 1fr;
    }
  }
}
